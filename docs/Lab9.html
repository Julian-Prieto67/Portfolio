<!DOCTYPE html>

<!--
 // WEBSITE: https://themefisher.com
 // TWITTER: https://twitter.com/themefisher
 // FACEBOOK: https://www.facebook.com/themefisher
 // GITHUB: https://github.com/themefisher/
-->

<html class="no-js">

<head>
  <!-- Basic Page Needs
        ================================================== -->
  <meta charset="utf-8">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <link rel="icon" href="favicon.ico">
  <title>Julian Prieto | Lab 9</title>
  <meta name="description" content="">
  <meta name="keywords" content="">
  <meta name="author" content="">
  <!-- Mobile Specific Metas
        ================================================== -->
  <meta name="format-detection" content="telephone=no">
  <meta name="viewport" content="width=device-width, initial-scale=1">


  <!-- Template CSS Files
        ================================================== -->
  <!-- Twitter Bootstrs CSS -->
  <link rel="stylesheet" href="plugins/bootstrap/bootstrap.min.css">
  <!-- Ionicons Fonts Css -->
  <link rel="stylesheet" href="plugins/ionicons/ionicons.min.css">
  <!-- animate css -->
  <link rel="stylesheet" href="plugins/animate-css/animate.css">
  <!-- Hero area slider css-->
  <link rel="stylesheet" href="plugins/slider/slider.css">
  <!-- slick slider -->
  <link rel="stylesheet" href="plugins/slick/slick.css">
  <!-- Fancybox -->
  <link rel="stylesheet" href="plugins/facncybox/jquery.fancybox.css">
  <!-- hover -->
  <link rel="stylesheet" href="plugins/hover/hover-min.css">
  <!-- template main css file -->
  <link rel="stylesheet" href="css/style.css">
</head>

<body>
  <!--
        ==================================================
        Header Section Start
        ================================================== -->
  <section class="top-bar animated-header">
    <div class="container">
      <div class="row">
        <div class="col-lg-12">
          <nav class="navbar navbar-expand-lg navbar-light bg-light">
            <a class="navbar-brand" href="index.html">
              <!-- <img class="logo" src="./images/logo.jpg" alt="logo"> -->
            </a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
              aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
              <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="navbarSupportedContent">
              <ul class="navbar-nav ml-auto">
                <li class="nav-item">
                  <a class="nav-link" href="index.html">Home
                    <span class="sr-only">(current)</span>
                  </a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="about.html">About</a>
                </li>
              </ul>
            </div>
          </nav>
        </div>
      </div>
    </div>
  </section>
  <!--
==================================================
Global Page Section Start
================================================== -->
  <section class="global-page-header">
    <div class="container">
      <div class="row">
        <div class="col-md-12">
          <div class="block">
            <h2>Lab 9: Mapping</h2>
            <div class="portfolio-meta">
              <span>April 19th, 2023</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
  <!--/#Page header-->

  <!-- work details part start -->
  <section class="work-single">
    <div class="container">
      <div class="row">
        <div class="col-lg-12">
          <div style="display: flex; justify-content: center;" class="work-single-image">
            <!-- Work Single Image -->
            <img style="height: 330px" src="images\lines.PNG" alt="work-single-image">
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-lg-12">
          <!-- work single Content -->
          <div class="work-single-content">
            <h2 style=" text-align: center">
              INTRODUCTION
            </h2>
            <p>Now that I've gotten my robot moving, it's time for it to figure out how to move on it's own. First, 
              it has to learn hwo to build a map for itself and that's exactly what <a href="https://cei-lab.github.io/FastRobots-2023/Lab9.html">Lab 9</a> is all about.
              Using transformation matrices, careful implementation of our PID orientation control, and the Time of Flight Sensor, this task 
              shouldn't be a problem.
            </p>

            <h2 style="text-align: center"> GATHERING DATA</h2>
            <p>
              Unlike the name of the class, our robot actually should be moving slow to get accurate readings of its surroundings.
              The TOF sensor might give faulty values otherwise. I also need to be extra sure that the robot is actually at the angles it 
              thinks it is because that will give the most accurate map possible. I chose to control the orientation of the robot using 
              PID designed in <a href="Lab6.html"> Lab 6</a>. 
              <br>
              The script I ran to actually take the data simply incremented the reference value of the PID controller by 10 degrees until 
              it made a full circle. It would wait 500ms before taking five readings of the angle and both distances. This was to hopefully
              cut down on any sensor uncertainty in my values. Below is the code I used to implement this and a video of it in action.
            </p>
            <script src="https://gist.github.com/Julian-Prieto67/6c5ca1266209cf635a9aa8979e1c6ad8.js"></script>
            
            <iframe width="320" height="560" src="https://www.youtube.com/embed/J2HsWMqWOu0" title="Lab 9: Mapping" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
            <h2 style="text-align: center">PRELIMINARY PLOTTING</h2>
            <p>
              Now that I had my function for gathering data, all I needed was to apply the transformation matrix: 
            </p>
            <img src="lab9Folder\Tmatrix.PNG" class="img-fluid" alt="portfolio items">
            <p>
              For each rotation a different transformation matrix applied and my points that the matrix would be applied to looked like this: 
            </p>
            <img src="lab9Folder\Pts.PNG" class="img-fluid" alt="portfolio items">
            <p>
              This resulted in the following graphs and polar graphs for each point
            </p>
            <h3>
              Point (-3,-2)
            </h3>
            <img style = "height: 200px" src="lab9Folder\Polar-3-2.PNG" class="img-fluid" alt="portfolio items">
            <img style = "height: 200px" src="lab9Folder\Global-3-2.PNG" class="img-fluid" alt="portfolio items">
            <h3>
              Point (0,3)
            </h3>
            <img style = "height: 200px" src="lab9Folder\Polar03.PNG" class="img-fluid" alt="portfolio items">
            <img style = "height: 200px" src="lab9Folder\Global03.PNG" class="img-fluid" alt="portfolio items">
            <h3>
              Point (5,-3)
            </h3>
            <img style = "height: 200px" src="lab9Folder\Polar5-3.PNG" class="img-fluid" alt="portfolio items">
            <img style = "height: 200px" src="lab9Folder\Global5-3.PNG" class="img-fluid" alt="portfolio items">
            <h3>
              Point (5,3)
            </h3>
            <img style = "height: 200px" src="lab9Folder\Polar53.PNG" class="img-fluid" alt="portfolio items">
            <img style = "height: 200px" src="lab9Folder\Global53.PNG" class="img-fluid" alt="portfolio items">
            <h2 style="text-align: center">PUTTING IT ALL TOGETHER</h2>
            <p>
              Now I just needed to layer the graphs over each other, resulting in this:
            </p>
            <img style = "height: 300px" src="lab9Folder\map.PNG" class="img-fluid" alt="portfolio items">
            <img style = "height: 300px" src="lab9Folder\lines.PNG" class="img-fluid" alt="portfolio items">
            <p>
              This graph only looks as straight as it does because I corrected the angle of each sensor reading. Some initial error in 
              allignment caused each set of data to be some constant angle off. The following numbers are the angle corrections for each point:
              <ul>
              <li>(-3,-2) = 9 degrees</li>
              <li>(0,3) = 15 degrees</li>
              <li>(5,-3) = -15 degrees</li>
              <li>(5,3) = -17 degrees</li>
              </ul>
            </p>
            <p>
              Below is the code used for plotting each individual data set.
            </p>
            <script src="https://gist.github.com/Julian-Prieto67/9c8a842b6d16ac25b9cc86538021cae7.js"></script>
            <h2 style="text-align: center">CONCLUSION</h2>
            <p>
              Transformation matrices are a powerful tool to convert large swaths of data into something useful. 
              I've never plotted out an area using this method before and I feel I learned a great deal about 
              building maps out of sensor data. 
            </p>
          </div>
        </div>
      </div>
    </div>
  </section>
  <!-- work details part end -->

  <section class="works works-fit">
    <div class="container">
      <h2 class="subtitle">Other Labs</h2>
      <div class="row">
        <div class="col-md-3 col-sm-6">
          <figure class="wow fadeInLeft animated portfolio-item animated" data-wow-duration="300ms" data-wow-delay="0ms"
            style="visibility: visible; animation-duration: 300ms; -webkit-animation-duration: 300ms; animation-delay: 0ms; -webkit-animation-delay: 0ms; animation-name: fadeInLeft; -webkit-animation-name: fadeInLeft;">
            <div class="img-wrapper">
              <img src="images/Kfthumbnail.jpg" class="img-fluid" alt="portfolio items" style="height: 330px">
              <div class="overlay">
                <div class="buttons">
                  <a target="_blank" href="Lab7.html">Details</a>
                </div>
              </div>
            </div>
            <figcaption>
              <h4>
                <a href="Lab7.html">
                  Lab 7: Kalman Filter 
                </a>
              </h4>
              <p>
                Fixing noisy sensors with statistics!
              </p>
            </figcaption>
          </figure>
        </div>

        <div class="col-md-3 col-sm-6">
          <figure class="wow fadeInLeft animated animated" data-wow-duration="300ms" data-wow-delay="300ms"
            style="visibility: visible; animation-duration: 300ms; -webkit-animation-duration: 300ms; animation-delay: 300ms; -webkit-animation-delay: 300ms; animation-name: fadeInLeft; -webkit-animation-name: fadeInLeft;">
            <div class="img-wrapper">
              <img src="images\thumbnail8.png" class="img-fluid" alt="portfolio items" style="height: 330px">
              <div class="overlay">
                <div class="buttons">
                  <a target="_blank" href="Lab8.html">Details</a>
                </div>
              </div>
            </div>
            <figcaption>
              <h4>
                <a href="Lab8.html">
                  Lab 8: Stunts!
                </a>
              </h4>
              <p>
                It's a stunt!
              </p>
            </figcaption>
          </figure>
        </div>

        <div class="col-md-3 col-sm-6">
          <figure class="wow fadeInLeft animated animated" data-wow-duration="300ms" data-wow-delay="300ms"
            style="visibility: visible; animation-duration: 300ms; -webkit-animation-duration: 300ms; animation-delay: 300ms; -webkit-animation-delay: 300ms; animation-name: fadeInLeft; -webkit-animation-name: fadeInLeft;">
            <div class="img-wrapper">
              <img src="images/lab10cover.PNG" class="img-fluid" alt="" style="height: 330px">
              <div class="overlay">
                <div class="buttons">
                  <a target="_blank" href="Lab10.html">Details</a>
                </div>
              </div>
            </div>
            <figcaption>
              <h4>
                <a href="Lab10.html">
                  Lab 10: Localization (sim)
                </a>
              </h4>
              <p>
                Using a Bayesian filter, localize the location of a virtual robot. 
              </p>
            </figcaption>
          </figure>
        </div>

        <div class="col-md-3 col-sm-6">
          <figure class="wow fadeInLeft animated animated" data-wow-duration="300ms" data-wow-delay="600ms"
            style="visibility: visible; animation-duration: 300ms; -webkit-animation-duration: 300ms; animation-delay: 600ms; -webkit-animation-delay: 600ms; animation-name: fadeInLeft; -webkit-animation-name: fadeInLeft;">
            <div class="img-wrapper">
              <img src="images/Lab 11 cover.png" class="img-fluid" alt="" style="height: 330px">
              <div class="overlay">
                <div class="buttons">
                  <a target="_blank" href="Lab11.html">Details</a>
                </div>
              </div>
            </div>
            <figcaption>
              <h4>
                <a href="Lab11.html">
                  Lab 11: Localization (real)
                </a>
              </h4>
              <p>
                Using a Bayesian filter, localize the location of a real robot.
              </p>
            </figcaption>
          </figure>
        </div>
      </div>
    </div>
  </section>
  <!-- Template Javascript Files
	================================================== -->
  <!-- jquery -->
  <script src="plugins/jQurey/jquery.min.js"></script>
  <!-- Form Validation -->
  <script src="plugins/form-validation/jquery.form.js"></script>
  <script src="plugins/form-validation/jquery.validate.min.js"></script>
  <!-- slick slider -->
  <script src="plugins/slick/slick.min.js"></script>
  <!-- bootstrap js -->
  <script src="plugins/bootstrap/bootstrap.min.js"></script>
  <!-- wow js -->
  <script src="plugins/wow-js/wow.min.js"></script>
  <!-- slider js -->
  <script src="plugins/slider/slider.js"></script>
  <!-- Fancybox -->
  <script src="plugins/facncybox/jquery.fancybox.js"></script>
  <!-- template main js -->
  <script src="js/main.js"></script>
</body>

</html>